Insert in edX:

<script>
  $(document).ready(function(){
    addEventListener("message", hearQualtricsSurveyEnd, false);
    function hearQualtricsSurveyEnd(e) {
      if (e.origin !== "https://harvard.az1.qualtrics.com"){
        console.log('origin wrong');
        return;
      }
      
      if (typeof e.data == "string") {
        return;
      } else {
        console.log("The message is a JSON object:");
        console.log('Message: ' + e.data.text);
        console.log('Source: ' + e.data.source);
        console.log('Complete? ' + e.data.complete);
      }
    }  
  });
</script>

<p>Testing feedback from finishing Qualtrics surveys.</p>
<p>Javascript reference: <a href="https://www.qualtrics.com/support/survey-platform/survey-module/question-options/add-javascript/" target="_blank">https://www.qualtrics.com/support/survey-platform/survey-module/question-options/add-javascript/</a></p>
<p>Message passing refernece: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage</a></p>

<iframe title="Euler Line Demo" src="https://harvard.az1.qualtrics.com/jfe/form/SV_9EvlqyaDbHCPNlz?uid=%%USER_ID%%" marginwidth="0" marginheight="0" scrolling="no" width="800" height="800" frameborder="0">
Your browser does not support IFrames.
</iframe>



From last question in Qualtrics:

Qualtrics.SurveyEngine.addOnload(function()
{
	/*Place your JavaScript here to run when the page loads*/

});

Qualtrics.SurveyEngine.addOnReady(function()
{
	/*Place your JavaScript here to run when the page is fully displayed*/

});

Qualtrics.SurveyEngine.addOnUnload(function()
{
	message = {
		text: "You can find out when someone gets to the last page of a Qualtrics survey.",
		source: "HXSurvey",
		complete: "yes"
	}
	window.parent.postMessage(message, "https://edge.edx.org");
	window.parent.postMessage(message, "https://courses.edx.org");
	console.log('sent message');

});